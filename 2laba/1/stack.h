/*Дано число D и указатель P1 на вершину непустого стека. 
Добавить элемент со значением D в стек и вывести адрес P2 новой вершины стека.

Для каждой динамической структуры должен быть предусмотрен стандартный набор методов - 
добавления/удаления/вывода элементов. 
Во всех задачах обязательно наличие дружественного интерфейса. Ввод данных с клавиатуры.

В заданиях подгруппы структура «стек» (stack) моделируется цепочкой связанных
узлов-записей типа TNode. Поле Next последнего элемента цепочки равно nullptr. Вершиной
стека (top) считается первый элемент цепочки. Для доступа к стеку используется указатель на
его вершину (для пустого стека данный указатель полагается равным nullptr). Значением
элемента стека считается значение его поля Data*/

#ifndef STACK_H
#define STACK_H

#include <iostream>

/**
 * @class Node
 * @brief Узел стека
 * 
 * Содержит данные и указатель на следующий узел
 */
class Node {
public:
    int data;       ///< Значение узла
    Node* next;     ///< Указатель на следующий узел
    
    /**
     * @brief Конструктор узла
     * @param value Значение для хранения в узле
     */
    Node(int value);
};

/**
 * @class Stack
 * @brief Класс стека, реализованный на связном списке
 * 
 * Предоставляет стандартные операции работы со стеком: push, pop, peek и другие
 */
class Stack {
private:
    Node* top;  ///< Указатель на вершину стека

public:
    /**
     * @brief Конструктор стека
     */
    Stack();
    
    /**
     * @brief Деструктор стека
     * 
     * Автоматически очищает память при уничтожении стека
     */
    ~Stack();
    
    /**
     * @brief Добавление элемента в стек
     * @param value Значение для добавления
     */
    void Push(int value);
    
    /**
     * @brief Удаление элемента из стека
     * 
     * Удаляет и возвращает элемент с вершины стека
     */
    void Pop();
    
    /**
     * @brief Вывод содержимого стека
     * 
     * Выводит все элементы стека, начиная с вершины
     */
    void Print();
    
    /**
     * @brief Получение указателя на вершину стека
     * @return Указатель на вершину стека
     */
    Node* GetTop();
    
    /**
     * @brief Очистка стека
     * 
     * Удаляет все элементы из стека и освобождает память
     */
    void ClearStack();
    
    /**
     * @brief Дружественная функция для добавления элемента и вывода адреса вершины
     * @param stack Стек для работы
     * @param D Значение для добавления
     */
    friend void AddElementAndPrintAddress(Stack& stack, int D);
};

/**
 * @brief Добавляет элемент в стек и выводит адрес новой вершины
 * @param stack Стек для работы
 * @param D Значение для добавления
 */
void AddElementAndPrintAddress(Stack& stack, int D);

#endif // STACK_H
